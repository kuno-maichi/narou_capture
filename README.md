# narou_capture

「小説家になろう」のランキングページを巡回し、1〜100位までの作品の中でキーワードが含まれる作品の枠をスクリーンショットとして撮るアプリケーションです。自作や気になる作品がランキングに入っているかを確認するためにお使いください。

## 必要なソフトウェア

- Python 3.10以降
  - [https://www.python.org/downloads/](https://www.python.org/downloads/)からダウンロードしてインストールしてください
  - Python 3.10, 3.11, 3.12のどれでも動くはずです

## 実行

### Windowsの場合

`run.bat` を実行してください。outフォルダの中にスクリーンショットのpngファイルが作成されます。

### Linuxの場合

`run.sh` を実行してください。outディレクトリの中にスクリーンショットのpngファイルが作成されます。

### ファイル名について

ファイル名は次の形式に従います。

```
ラベル名/{ランキング}位_作者-{作者名}_YYYY-MM-DD-hhmm.png
```

たとえば、作者「久野真一」が`[日間] 現実世界〔恋愛〕`ランキングで10位にランクインしており、URLに「日間-現実恋愛」というラベルがついていた場合、ファイル名は

`日間-現実恋愛/10位_作者-久野真一_2024-03-31-1800.png` のようになります。末尾はスクリーンショットが撮られた時刻です。

## カスタマイズ

[config.json](./config.json)をカスタマイズすることで、巡回するURLをカスタマイズすることができます。デフォルトでは以下のようになっています：

```js
{
    "items": {
        "現実恋愛-すべて":"https://yomou.syosetu.com/rank/genrelist/type/daily_102/"
    },
    "texts": [],
    "keywords": ["幼馴染"]
}
```

`items`の中身は配列で、個々の要素はページにつけたラベル名とランキングページのURLです。ラベル名はスクリーンショットのファイル名を作る際に使われます。

`keywords`の中身は配列で個々の要素はテキストです。ランキングに入っている作品のタグがテキストのいずれかを含んでいた場合にスクリーンショットを撮ってくれます。

`texts`の中身は配列で個々の要素はテキストです。ランキングに入っている作品の説明がテキストのいずれかを含んでいた場合にスクリーンショットを撮ってくれます。
